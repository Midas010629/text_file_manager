(function(){"use strict";var e={3224:function(e,t,a){var n=a(9963),i=a(2201),r=a(6252),s=a(3577);const l={class:"p-4"},o={class:"d-flex mb-4"},c={class:"h2"},f=(0,r._)("i",{class:"fa-solid fa-house"},null,-1),u={class:"h2"},d=["onClick"];function p(e,t,a,i,p,h){const m=(0,r.up)("router-link"),v=(0,r.up)("File"),g=(0,r.up)("Search"),_=(0,r.up)("InfoBar");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("article",l,[(0,r.wy)((0,r._)("div",o,[(0,r._)("h2",c,[(0,r.Wm)(m,{to:"/",class:"p-1"},{default:(0,r.w5)((()=>[f])),_:1})]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.flies.title,((e,t)=>((0,r.wg)(),(0,r.iD)("h2",u,[(0,r.Uk)(" >"),(0,r._)("a",{class:"p-1",href:"javascript:;",onClick:e=>i.titleGoPath(t)},(0,s.zw)(e),9,d)])))),256))],512),[[n.F8,!i.searchIsShow]]),(0,r.wy)((0,r.Wm)(v,{item:i.flies.data},null,8,["item"]),[[n.F8,!i.searchIsShow]]),(0,r.wy)((0,r.Wm)(g,null,null,512),[[n.F8,i.searchIsShow]])]),(0,r.Wm)(n.uT,{name:"animate__info"},{default:(0,r.w5)((()=>[i.infoIsShow?((0,r.wg)(),(0,r.j4)(_,{key:0})):(0,r.kq)("",!0)])),_:1})],64)}a(7658);var h=a(2262),m=a(3907);const v={class:"cards d-flex flex-wrap"},g=["onDblclick","onClick","id"],_={class:"cards__item__title"};function w(e,t,a,i,l,o){const c=(0,r.up)("Image");return(0,r.wg)(),(0,r.iD)("div",v,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.props.item,((e,t)=>((0,r.wg)(),(0,r.iD)("a",{class:(0,s.C_)(["cards__item d-flex flex-column align-items-center m-1 p-2",{jsActive:i.idx===t}]),onDblclick:(0,n.iM)((t=>i.Subfile(e)),["prevent"]),onClick:(0,n.iM)((a=>i.toggleInfo(e,t)),["prevent","stop"]),href:"javascript:;",key:e.filePath,id:e.filePath},[(0,r.Wm)(c,{class:"cards__item__img mb-2",item:e.fileExtension},null,8,["item"]),(0,r._)("p",_,(0,s.zw)(e.fileName),1)],42,g)))),128))])}function D(e,t,a,n,i,l){return(0,r.wg)(),(0,r.iD)("i",{class:(0,s.C_)(n.img.type)},null,2)}var y={name:"Image",props:{item:{type:String,default:""}},setup(e){const t=(0,h.qj)({type:""});return(0,r.YP)((()=>e.item),(()=>{"folder"===e.item&&(t.type="fa-sharp fa-regular fa-folder"),"pptx"===e.item&&(t.type="fa-sharp fa-regular fa-file-powerpoint"),"jpg"===e.item&&(t.type="fa-regular fa-file-image"),"docx"===e.item&&(t.type="fa-regular fa-file")})),"folder"===e.item&&(t.type="fa-sharp fa-regular fa-folder"),"pptx"===e.item&&(t.type="fa-sharp fa-regular fa-file-powerpoint"),"jpg"===e.item&&(t.type="fa-regular fa-file-image"),"docx"===e.item&&(t.type="fa-regular fa-file"),{img:t}}},b=a(3744);const x=(0,b.Z)(y,[["render",D]]);var S=x;const k=e=>{const t=(0,i.tv)(),a=(0,m.oR)(),n=e=>{"folder"===e.fileExtension&&(t.push({path:`${e.filePath}`}),a.dispatch("handSearchData",{isShow:!1}))};return{Subfile:n}},j=()=>{const e=(0,m.oR)(),t=(0,h.iH)(null),a=(a,n)=>{t.value=null,(0,r.Y3)((()=>{t.value=n,e.dispatch("handInfoData",{data:a,isShow:!0})}))};return{toggleInfo:a,idx:t}},I=e=>{const t=e=>{addEventListener("click",(e=>{let t=document.querySelectorAll(".jsActive");t.forEach((e=>{e.classList.add("jsActived"),e.classList.remove("jsActive")}))}))};return{clickActive:t}},A=k,C=j,O=I;var F={components:{Image:S},props:{item:{type:Array,default:[]}},setup(e){const{Subfile:t}=A(),{toggleInfo:a,idx:n}=C();return(0,i.ao)(((e,t,a)=>{n.value=null,a()})),{props:e,Subfile:t,toggleInfo:a,idx:n}}};const H=(0,b.Z)(F,[["render",w],["__scopeId","data-v-4959add8"]]);var E=H;const P=e=>((0,r.dD)("data-v-afd521c8"),e=e(),(0,r.Cn)(),e),B={class:"searchBar"},N={class:"searchBar__title d-flex justify-content-center mb-4"},T=P((()=>(0,r._)("i",{class:"fa-regular fa-circle-xmark"},null,-1))),W=[T],Y=P((()=>(0,r._)("h2",{class:"h2"},"搜尋結果",-1)));function z(e,t,a,i,s,l){const o=(0,r.up)("File");return(0,r.wg)(),(0,r.iD)("div",B,[(0,r._)("div",N,[(0,r._)("button",{class:"btn--secondary",onClick:t[0]||(t[0]=(0,n.iM)(((...e)=>i.closeBar&&i.closeBar(...e)),["prevent","stop"]))},W),Y]),(0,r.Wm)(o,{item:i.flies.data},null,8,["item"])])}var Z={components:{File:E},setup(){const e=(0,m.oR)(),t=(0,h.qj)({data:[]}),a=(0,r.Fl)((()=>e.getters.fetchData));(0,r.YP)((()=>e.getters.searchData),(e=>{const n=[],i=e=>{e.forEach((e=>{n.push(e),e.children&&i(e.children)}))};i(a.value);const r=t=>t.filter((t=>t.fileName.includes(e.data)));t.data=r(n)}),{deep:!0});const n=()=>{e.dispatch("handSearchData",{isShow:!1})};return{flies:t,closeBar:n}}};const M=(0,b.Z)(Z,[["render",z],["__scopeId","data-v-afd521c8"]]);var R=M;const q=e=>((0,r.dD)("data-v-f4c5fd6a"),e=e(),(0,r.Cn)(),e),K={class:"d-flex ml-6"},L={class:"card"},U=q((()=>(0,r._)("i",{class:"fa-regular fa-circle-xmark"},null,-1))),G=[U],V={class:"card__title d-flex flex-column align-items-center"},$={class:"h3 pt-4 pb-4"},J={class:"h3 pt-4 pb-4"},Q={class:"card__content ml-4"};function X(e,t,a,i,l,o){const c=(0,r.up)("Image");return(0,r.wg)(),(0,r.iD)("aside",K,[(0,r._)("div",L,[(0,r._)("button",{class:"card__btn btn--secondary mt-2 ml-2",onClick:t[0]||(t[0]=(0,n.iM)(((...e)=>i.closeBar&&i.closeBar(...e)),["prevent","stop"]))},G),(0,r._)("div",V,[(0,r.Wm)(c,{item:i.infoData.fileExtension,style:{"font-size":"150px"}},null,8,["item"]),(0,r.wy)((0,r._)("h3",$," 檔案詳細內容 ",512),[[n.F8,"folder"!=i.infoData.fileExtension]]),(0,r.wy)((0,r._)("h3",J," 資料夾詳細內容 ",512),[[n.F8,"folder"===i.infoData.fileExtension]])]),(0,r._)("div",Q,[(0,r._)("p",null,"名稱: "+(0,s.zw)(i.infoData.fileName),1),(0,r._)("p",null,"大小: "+(0,s.zw)(i.infoData.fileSize),1),(0,r._)("p",null,"產生日期: "+(0,s.zw)(i.infoData.createdDate),1)])])])}var ee={name:"InfoBar",components:{Image:S},setup(){const e=(0,m.oR)(),t=(0,r.Fl)((()=>e.getters.infoData.data)),a=()=>{e.dispatch("handInfoData",{isShow:!1})};return(0,r.bv)((()=>{})),{infoData:t,closeBar:a}}};const te=(0,b.Z)(ee,[["render",X],["__scopeId","data-v-f4c5fd6a"]]);var ae=te,ne={name:"_HomeView",components:{Search:R,InfoBar:ae,File:E},setup(){const e=(0,i.yj)(),t=(0,m.oR)(),a=(0,h.qj)({data:[],title:[],path:[]}),n=(0,r.Fl)((()=>t.getters.infoData.isShow)),s=(0,r.Fl)((()=>t.getters.searchData.isShow)),l=(0,r.Fl)((()=>t.getters.fetchData)),o=t=>{for(const a of t){if(a.filePath===e.path)return a;if(void 0!==a.children){const e=o(a.children);if(void 0!==e)return e}}},c=()=>{"/"===e.path?(a.data=l.value,a.title=null):o(l.value)?(a.data=o(l.value).children,a.title=e.path.split("/").slice(1),a.path=a.title.map(((e,t)=>a.title.slice(0,t+1).join("/")))):oe.push({path:"/"})},f=e=>{oe.push({path:`/${a.path[e]}`})};return(0,r.YP)((()=>e.path),(e=>{c()})),(0,r.bv)((async()=>{await t.dispatch("handInit"),c()})),{flies:a,infoIsShow:n,searchIsShow:s,route:e,titleGoPath:f}}};const ie=(0,b.Z)(ne,[["render",p]]);var re=ie;const se=[{path:"/:file(.*)",name:"_Home",component:re}],le=(0,i.p7)({history:(0,i.PO)("/text_file_manager/"),routes:se});var oe=le,ce=(0,m.MT)({state:{fetchData:[],infoData:{data:null,isShow:!1},navActive:null,searchData:{data:[],isShow:!1}},actions:{handInit({commit:e}){return fetch("/text_file_manager/fileData.json").then((e=>e.json())).then((t=>{e("init",t.files)}))},handNavActive({commit:e},t){e("navActive",t)},handInfoData({commit:e},t){e("infoData",t)},handSearchData({commit:e},t){e("searchData",t)}},mutations:{init(e,t){e.fetchData=t},navActive(e,t){e.navActive=t},infoData(e,t){e.infoData.data=t.data,e.infoData.isShow=t.isShow},searchData(e,t){e.searchData.data=t.data,e.searchData.isShow=t.isShow}},getters:{fetchData(e){return e.fetchData},navActive(e){return e.navActive},infoData(e){return e.infoData},searchData(e){return e.searchData}}});const fe={class:"m-4"},ue=(0,r._)("h1",{class:"h1 mb-4"},"檔案總管",-1),de={class:"container d-flex mr-4"};function pe(e,t,a,n,i,s){const l=(0,r.up)("NavTree"),o=(0,r.up)("HeaderBar"),c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("nav",fe,[ue,(0,r.Wm)(l)]),(0,r._)("main",null,[(0,r.Wm)(o),(0,r._)("div",de,[(0,r.Wm)(c)])])],64)}const he={class:"navbar"},me={class:"list__item d-flex mb-1 mt-1"},ve=["onClick"],ge=["onClick"];function _e(e,t,a,i,l,o){const c=(0,r.up)("NavTree",!0);return(0,r.wg)(),(0,r.iD)("div",he,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.files.data,((e,t)=>((0,r.wg)(),(0,r.iD)("ul",{class:(0,s.C_)(["list",{isOpen:e.isOpen}]),key:e.filePath},[(0,r._)("li",me,[(0,r._)("button",{class:"list__item__btn btn--primary",type:"button",onClick:a=>i.isOpen(e,t)},[(0,r.wy)((0,r._)("i",{class:(0,s.C_)(["fa-solid fa-caret-right",e.icon])},null,2),[[n.F8,"folder"===e.fileExtension]])],8,ve),(0,r._)("a",{class:(0,s.C_)(["d-flex align-items-center p-2",{jsActive:i.idx===t}]),href:"javascript:;",onClick:(0,n.iM)((a=>{i.Subfile(e),i.toggleActive(a,e,t)}),["prevent","stop"])},(0,s.zw)(e.fileName),11,ge)]),(0,r.Wm)(c,{item:e.children,class:"subNav ml-4",style:(0,s.j5)({maxHeight:e.domH+"px"})},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.fileName),1)])),_:2},1032,["item","style"])],2)))),128))])}var we={name:"NavTree",components:{NavTree:ye},props:{item:{type:Array,default:()=>[]}},setup(e,{emit:t}){const a=(0,m.oR)(),{Subfile:n}=A(),{toggleInfo:i,idx:s}=C(),l=(0,h.qj)({data:[]}),o=(0,r.Fl)((()=>a.getters.navActive)),c=(e,t,n)=>{i(t,n),null!=o.value&&o.value.classList.remove("jsActive","jsActived"),a.dispatch("handNavActive",e.target)},f=(e,t)=>{if("folder"===e.fileExtension)if(e.isOpen=!e.isOpen,e.isOpen?e.icon="fa-solid fa-caret-right  fa-rotate-90":e.icon="fa-solid fa-caret-right",e.isOpen){const t=e=>e.reduce(((e,a)=>(void 0!=a.children&&(e+=t(a.children)),e+28)),0);e.domH=t(e.children)}else e.domH=0};return 0===e.item.length?(0,r.YP)((()=>a.getters.fetchData),(e=>{l.data=e})):l.data=e.item,{files:l,Subfile:n,toggleActive:c,idx:s,isOpen:f}}};const De=(0,b.Z)(we,[["render",_e],["__scopeId","data-v-cdd45bf2"]]);var ye=De;const be=e=>((0,r.dD)("data-v-23822048"),e=e(),(0,r.Cn)(),e),xe={class:"mt-4 mb-4 d-flex"},Se=be((()=>(0,r._)("i",{class:"fa-solid fa-magnifying-glass"},null,-1))),ke=[Se];function je(e,t,a,i,s,l){return(0,r.wg)(),(0,r.iD)("header",xe,[(0,r.wy)((0,r._)("input",{class:"btn--secondary",type:"text",placeholder:"請輸入搜尋內容","onUpdate:modelValue":t[0]||(t[0]=e=>i.searchText=e),onKeyup:t[1]||(t[1]=(0,n.D2)((e=>i.keyEnter()),["enter"]))},null,544),[[n.nr,i.searchText]]),(0,r._)("button",{class:"btn--secondary",onClick:t[2]||(t[2]=(0,n.iM)((e=>i.keyEnter()),["prevent","stop"]))},ke)])}var Ie={setup(){const e=(0,m.oR)(),t=(0,h.iH)(""),a=()=>{e.dispatch("handSearchData",{data:t.value,isShow:!0}),t.value=null};return{keyEnter:a,searchText:t}}};const Ae=(0,b.Z)(Ie,[["render",je],["__scopeId","data-v-23822048"]]);var Ce=Ae,Oe={components:{NavTree:ye,HeaderBar:Ce},setup(){const{clickActive:e}=O();return e(),{}}};const Fe=(0,b.Z)(Oe,[["render",pe]]);var He=Fe;(0,n.ri)(He).use(ce).use(oe).mount("#app")}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,i,r){if(!n){var s=1/0;for(f=0;f<e.length;f++){n=e[f][0],i=e[f][1],r=e[f][2];for(var l=!0,o=0;o<n.length;o++)(!1&r||s>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[o])}))?n.splice(o--,1):(l=!1,r<s&&(s=r));if(l){e.splice(f--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var f=e.length;f>0&&e[f-1][2]>r;f--)e[f]=e[f-1];e[f]=[n,i,r]}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,r,s=n[0],l=n[1],o=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(o)var f=o(a)}for(t&&t(n);c<s.length;c++)r=s[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(f)},n=self["webpackChunkfile_manager"]=self["webpackChunkfile_manager"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(3224)}));n=a.O(n)})();
//# sourceMappingURL=app.d5006ef0.js.map